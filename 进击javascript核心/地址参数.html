<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>地址参数</title>
</head>
<body>
<script>
    const server = 'hettp://123.123.123.123:2000';
    const testParams = {
        'name': '张三',
        'password': '123456'
    }

      // 地址与对象拼接的代码
    function toUrl(url, params){
        let paramsArr = [];
        if (params) {

            Object.keys(params).forEach(item => {
                paramsArr.push(item + '=' + params[item]);
            })
            if (url.search(/\?/) === -1) {
                url += '?' + paramsArr.join('&');
            } else {
                url += '&' + paramsArr.join('&');
            }
        }
         return url
        // hettp://123.123.123.123:2000?name=nameyese&password=passwords
    }
    console.log(toUrl(server, testParams))

    //  地址的参数取值代码字符串转对象
    // var tstr = 'http://www.abc.com/detail?code=1&start=2017-02-01&end=2017-02-14&name=abc';
    // function GetQueryString(name) {
    //     let index = tstr.indexOf('?')
    //     let str = tstr.substring(index + 1);
    //     let arr = str.split('&');
    //     let result = {};
    //     arr.forEach((item) => {
    //         let a = item.split('=');
    //         result[a[0]] = a[1];
    //     })
    //     return result[name];
    // }
    //
    // console.log(GetQueryString('start'))// 2017-02-01


    // 单个参数的获取方法
    // function GetRequest() {
    //     var url = location.search;    //获取url中"?"符后的字串
    //     if (url.indexOf("?") != -1) { //判断是否有参数
    //         var str = url.substr(1);  //从第一个字符开始 因为第0个是?号 获取所有除问号的所有符串
    //         strs = str.split("=");    //用等号进行分隔 （因为知道只有一个参数 所以直接用等号进分隔 如果有多个参数 要用&号分隔 再用等号进行分隔）
    //         alert(strs[1]);           //直接弹出第一个参数 （如果有多个参数 还要进行循环的）
    //     }
    // }
    //
    // GetRequest()





</script>
</body>
</html>