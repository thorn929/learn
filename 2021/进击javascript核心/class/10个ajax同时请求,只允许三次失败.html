<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

    let errorCount = 0;
    let res = new Promise((resolve, reject) => {
        if (success) {
            resolve(res.data)
        } else {
            errorCount ++
            if (errorCount > 3) {
                // 失败3
                reject(error)
            } else {
                resolve(error)
            }
        }
    })

    Promise.all(res).then( v => {
        console.log(v)
    })





</script>
</body>
</html>