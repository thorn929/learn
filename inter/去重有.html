<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
<script>
var users=[
  {
    id:21, name:"a"
  },
  {
    id:12, name:"a"
  },
  {
    id:23, name:"b"
  },
  {
    id:34, name:"v"
  }
]

// Array.prototype.unique = function () {
//   var res;
//   this.map(item => {
//     this[item.id - 1] = item.name
//   })
//   // ES6里新添加了两个很好用的东西，set和Array.from
//   // set是一种新的数据结构，它可以接收一个数组或者是类数组对象，自动去重其中的重复项目。
//   res=new Set(this);
//   // 但是这里大家可以看到，set返回的是一个对象，但是我们想要的是数组啊。
//   // 这回，就该轮到Array.from出场了，它的作用，就是可以把类数组对象、可迭代对象转化为数组。
//   res=Array.from(new Set(this));
//   return  res//es6 数组去重
// }

// function unique(arr){
//   var newArr = [];
//   newArr = arr.reduce(function(pre,cur){
//     if(pre.includes(cur.name)){
//       return pre;
//     }else{
//       return pre.concat(cur.name);
//     }
//   },[])
//   return newArr;
// }
//

Array.prototype.unique = function() {
  let arrays=[];
  this.map(item => arrays.push(item.name))
  return Array.from(new Set(arrays))
}
console.log(users.unique());


</script>
</body>
</html>